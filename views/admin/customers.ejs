<%- include ('../partials/admin/sidebar')%>

  <title>
   Customer List
  </title>
  <style>
   body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        .container_ {
            display: flex;
            height: 100vh;
        }
        .sidebar {
            width: 250px;
            background-color: #e0d5d5;
            padding: 20px;
            box-sizing: border-box;
            height: 100vh;
        }
        .sidebar h1 {
            font-size: 36px;
            margin: 0;
            margin-bottom: 20px;
        }
        .sidebar ul {
            list-style: none;
            padding: 0;
        }
        .sidebar ul li {
            margin-bottom: 20px;
        }
        .sidebar ul li a {
            text-decoration: none;
            color: #000;
            font-size: 18px;
            display: flex;
            align-items: center;
        }
        .sidebar ul li a i {
            margin-right: 10px;
        }
        .sidebar ul li a.active {
            color: #fff;
            background-color: #5a5a5a;
            padding: 10px;
            border-radius: 5px;
        }
        .sidebar .support-setting {
            position: absolute;
            bottom: 20px;
            width: 100%;
        }
        .sidebar .support-setting ul {
            display: flex;
            flex-direction: column;
        }
        .sidebar .support-setting ul li a {
            font-size: 16px;
            margin-bottom: 10px;
        }
        .main-content {
            margin-left: 250px;
            width:100%;
            flex: 1;
            background-color: #d1cfcf;
            padding: 20px;
            box-sizing: border-box;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .search-container {
    width:350px;
    display: flex;
    align-items: center;
    border: 2px solid #5c5a5a;
    border-radius: 50px;
    padding: 2px;
    background-color: #fff;
}
.search-container input {
    border: none;
    outline: none;
    padding: 2px;
    font-size: 14px;
    border-radius: 50px;
    flex-grow: 1;
}
.search-container button {
    background-color: #bdb6b1;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
}
.search-container button i {
    color: #434141;
    font-size: 18px;
}
        /* .header .search-bar {
            display: flex;
            align-items: center;
        }
        .header .search-bar input {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-right: 10px;
        }
        .header .search-bar button {
            background: none;
            border: none;
            cursor: pointer;
        }
        .header .search-bar button i {
            font-size: 20px;
        } */
        .header .user-info {
            display: flex;
            align-items: center;
            padding-right: 20px;
        }
        .header .user-info img {
            border-radius: 50%;
            margin-right: 10px;
        }
        .header .user-info .name {
            margin-right: 10px;
        }
        .header .user-info .role {
            color: #888;
        }
        .table-container {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .table-container table {
            width: 100%;
            border-collapse: collapse;
        }
        .table-container table th, .table-container table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .table-container table th {
            background-color: #f9f9f9;
        }
        .table-container table td .status {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .table-container table td .status.active {
            background-color: #e0f7e9;
            color: #34a853;
        }
        .table-container table td .status.blocked {
            background-color: #fdecea;
            color: #ea4335;
        }
        .table-container .pagination {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }
        .table-container .pagination a {
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-left: 5px;
            text-decoration: none;
            color: #000;
        }
        .table-container .pagination a.active {
            background-color: #5a5a5a;
            color: #fff;
        }
        .table-container .pagination a:hover {
            background-color: #ddd;
        }
        .table-container .pagination a i {
            margin: 0 5px;
        }
        .table-container .actions i {
            margin-right: 10px;
            cursor: pointer;
        }
        .table-container .showing-info {
            margin-top: 10px;
            font-size: 14px;
            color: #888;
            text-align: right;
        }
        .status a {
            text-decoration: none;
        }
  </style>
 
  <div class="container_">
   
   <div class="main-content">
     <!-- <div class="search-bar">
      <input placeholder="Search customer..." type="text"/>
      <button>
       <i class="fas fa-search">
       </i>
      </button>
     </div> -->
    <div class="header">
        <h2 class="text-3xl font-bold text-gray-800" >Customers</h2>
    <form action="/admin/users">
        <div class="search-container">
            <input type="text" placeholder="Search Customers">
            <button>
                <i class="fas fa-search"></i>
            </button>
        </div>
    
    </form>
     <div class="user-info">
      <div>
       <div class="name">
        Selin Stelishya Oliver
       </div>
       <div class="role">
        Admin
       </div>
       
      </div>
      <div>
        <img alt="User profile picture" height="40" src="https://storage.googleapis.com/a1aa/image/6Frmd66qfz37V6OkvJHOKto7rafaEUORfStf9uiesPYqTb5eE.jpg" width="40"/>
       </div>
     </div>
    </div>
    <div class="table-container">
     <table>
      <thead>
       <tr>
        <!-- <th>
         <input type="checkbox"/>
        </th> -->
        <th>
         Customer Name
        </th>
        <th>Email</th>
        <th>
         Phone
        </th>
        <th>
         Action
        </th>
       </tr>
      </thead>
      <tbody>
        <% for(let i=0;i<data.length;i++){%>
       <tr>
        <td>
          <%=data[i].username%>
         </td>
         <td>
          <%=data[i].email%>
        </td>
        <td>
         <%=data[i].mobile%>
        </td>
        <td>
            <% if(data[i].is_blocked===false){%>
                <span class="status blocked">
                    <a href="/admin/blockCustomer?id=<%=data[i]._id%>">Block</a>
                </span>
            <% } else{ %>
                <span class="status active">
                    <a href="/admin/unblockCustomer?id=<%=data[i]._id%>">UnBlock </a>
                </span>
            <%} %>
        </td>
        
       </tr>
       <%}%>
       
      </tbody>
     </table>
     <div class="mt-4 flex justify-between items-center">
        <!-- <div class="text-sm text-gray-700">
            Showing %= ((currentPage -1)*3) + 1 %> - %= Math.min(currentPage * 3 , count) %> from %= count %>
        </div> -->
        <div class="px-8 py-4 border-b border-gray-200">
            <p class="text-sm text-gray-600">
                Showing <%= ((currentPage - 1) * limit) + 1 %>-<%= Math.min(currentPage * limit, count) %> of <%= count %> customers
            </p>
        </div>
        <div class="flex space-x-2">
            <% if(currentPage > 1) {%>
            <a href="?page=<%= currentPage - 1 %>" class="px-3 py-1 bg-[#5a5a5a] text-white rounded hover:bg-gray-700 transition-colors">&laquo; Previous</a>
            <% } %>
            <% for(let i=1; i <= totalPages; i++) {%>
                <% if(i === currentPage){ %>
                <span class="px-3 py-1 bg-[#5a5a5a] text-white rounded"><%= i %></span>
                <% } else { %>
                <a href="?page=<%= i %>" class="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors"><%= i %></a>
                <% } %>
            <% } %>
            <% if (currentPage < totalPages){%>
            <a href="?page=<%= currentPage + 1 %>" class="px-3 py-1 bg-[#5a5a5a] text-white rounded hover:bg-gray-700 transition-colors">Next &raquo;</a>
            <% } %>
        </div>
    </div>
     
   </div>
  </div>
  </div>